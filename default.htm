<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>B2.0 - Home</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/redmond/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> 
<link rel="stylesheet" type="text/css" href="B/B2_0.css">
<script src="B/B2_0-Core.js"></script>
<script src="B/B2_0-Dialog.js"></script>
<script src="B/B2_0-Form.js"></script>
<script src="B/B2_0-Table.js"></script>
<script src="B/B2_0-Data.js"></script>
<script src="B/B2_0-Menu.js"></script>
<script src="B/B2_0-Tree.js"></script>
<script>
var dta = "Mergerson, S. Epatha\tVan Buren, Anita, Lt.\t391\t1991\t2010\tnm0580924";
dta += "\nWaterston, Sam\tMcCoy, Jack, Asst DA\t368\t1994\t2010\tnm0001832";
dta += "\nOrbach, Jerry\tBriscoe, Lennie, Det\t274\t1991\t2004\tnm0001583";
dta += "\nHill, Steven\tSchiff, Adam, DA\t229\t1990\t2000\tnm0384696";
dta += "\nMartin, Jesse L\tGreen, Ed, Det\t198\t1999\t2008\tnm0552509";
dta += "\nHendrix, Leslie\tRodgers, Elizabeth, Dr\t142\t1992\t2010\tnm0376890";
dta += "\nThompson, Fred Dalton\tBranch, Arthur, DA\t116\t2002\t2007\tnm0000669";
dta += "\nNoth, Chris\tLogan, Mike, Det\t111\t1990\t1995\tnm0636562";
dta += "\nBratt, Benjamin\tCurtis, Rey, Det\t95\t1995\t2009\tnm0000973";
dta += "\nMoriarty, Michael\tStone, Ben, Ex ADA\t88\t1990\t1994\tnm0605363";
dta += "\nMcCormick, Carolyn\tOlivet, Elizabeth, Dr\t87\t1991\t2009\tnm0566509";
dta += "\nRohm, Elisabeth\tSotherlyn, Serena, ADA\t85\t2001\t2005\tnm0737533";
dta += "\nDe La Garza, Alana\tRubirosa, Connie, ADA\t85\t2006\t2010\tnm1004211";
dta += "\nHarmon, Angie\tCarmichael, Abbie, ADA\t72\t1998\t2001\tnm0004990";
dta += "\nFlorek, Dann\tCragen, Donald, Capt\t69\t1990\t2004\tnm0282648";
dta += "\nBrooks, Richard\tRobinette, Paul\t69\t1990\t2006\tnm1444462";
dta += "\nHennessy, Jill\tKincaid, Claire, ADA\t68\t1993\t1996\tnm0005007";
dta += "\nSisto, Jeremy\tLupo, Cyrus, Det\t64\t2007\t2010\tnm0005438";
dta += "\nRoache, Linus\tCutter, Michael, Ex ADA\t63\t2008\t2010\tnm0730070";
dta += "\nFiore, John\tProfaci, Tony, Det\t53\t1990\t1998\tnm0278468";
dta += "\nAnderson, Anthony\tBernard, Kevin, Det\t50\t2008\t2010\t";
dta += "\nLowell, Carey\tRoss, Jamie\t49\t1996\t2001\t";
dta += "\nWiest, Dianna\tLewin, Nora, DA\t48\t2000\t2002\t";
dta += "\nFarina, Dennis\tFontana, Joe, Det\t46\t2004\t2006\t";
dta += "\nSimmons, J.K.\tSkoda, Emil, Dr\t46\t1994\t2010\tnm0799777";
dta += "\nParise, Annie\tBorgia, Alexandra, ADA\t34\t2002\t2006\t";
dta += "\nSorvino, Paul\tCereta, Phil, Srgt\t31\t1991\t1992\t";
dta += "\nLipman, David\tTorledsky, Morris, Judge\t27\t1992\t2005\t";
dta += "\nCariani, John\tBeck, Julian, CSU\t26\t2002\t2007\t";
dta += "\nNavedo, Andrea\tCordova, Ana, Det\t24\t2001\t2004\t";
dta += "\nGovich, Milena\tCassady, Nina, Det\t23\t2005\t2007\t";
dta += "\nDenver, Bob\tGilligan\t99\t1964\t1992\tnm0001134";
dta += "\nHale, Alan Jr\tGrumby, Jonus, Skipper\t99\t1964\t1992\tnm0001308";
dta += "\nBackus, Jim\tHowell, Thurston III\t99\t1964\t1992\tnm0000822";
dta += "\nSchafer, Natalie\tHowell, Lovey\t99\t1964\t1992\tnm0769791";
dta += "\nLouise, Tina\tGrant, Ginger\t98\t1964\t1967\tnm0001481";
dta += "\nJohnson, Russell\tHinkley, Roy Professor\t98\t1964\t1967\tnm0426157";
dta += "\nGabriel, John\tHinkley, Roy Professor\t1\t1992\t1992\tnm0300235";
dta += "\nWells, Dawn\tSummers, Mary Ann\t98\t1964\t1967\tnm0920171";
function init() {
	var dcs = new B.DataColumnSet("id:*#,fn:t,ln:t,bd:!@,dsc:t_");

	var frm = B.getForm("dlg1");
	var now = new Date();
	frm.set("month", now.getMonth()+1, "day", now.getDate());

	window.tblA = new B.ScrollingTable("tblA", 150, new B.DataColumnSet("actor,role,episodes,fy,ly,tmdb"), "actor", "actors");
	tblA.footer.addButton("a", "First", function() { tblA.footer.disableButton("a").enableButton("b"); });
	tblA.footer.addButton("b", "Second", function() { tblA.footer.disableButton("b").enableButton("a"); });
	tblA.footer.addButton("c", "Rows", function() { mnuAdd.show(event); });
	tblA.footer.disableButton("a");
	tblA.onclick = function(tbl, row, cell, rn, cn, changedRow) {
		// Do nothing for now. See if this makes it to GIT
	}
	tblA.addRows(dta);
	
	window.mnuAdd = new B.ContextMenu();
	mnuAdd.addMenu("Add 1 row", function() { tblA.addTestRows(1); }, "play");
	mnuAdd.addMenu("Add 10 rows", function() { tblA.addTestRows(10); }, "seek-next");
	mnuAdd.addMenu("Unpick", function() { tblA.unpick(); }, "bullet");
	mnuAdd.addMenu("Reload", function() { tblA.addRows(dta,true); }, "refresh");
	mnuAdd.addMenu("Clear", function() { tblA.clear(); }, "radio-on");

	window.tree1 = new B.Tree("tree1", null, true);
	var br = tree1.addBranch("Try dialog actions", false);
	br.addLeaf("Say something via dialog", function() { say("Ok, I said something. So there."); }, B.img("INFO"));
	br.addLeaf("Ask something", function() { ask("I'm doing great. Are you feeling well?") }, B.img("HELP"));
	br.addLeaf("Yes/No/Cancel (askC)", function() { askC("Continue to next step?"); });
	br.addLeaf("Choose an item with choose", 
		function() { choose("Pick one of the items", "", "Tom,Dick,Harry", 
			function(rslt) { say("You chose option " + rslt); }
		); }, B.img("CHECKY"));
	br.addLeaf("Freeze the screen", function() { 
		timedFreeze("This message will disappear using the thaw() method in 10 seconds. " +
			"Use freeze(msg) for normal stuff, but when calling remote operations that may " +
			"take some time, you may want to include a timer."); 
		window.setTimeout(function() { thaw(); }, 10000);
	});
	br.addLeaf("Get a value", function() {
		askValue("Enter a value that will be used to know how intelligent you are.", "Your Number:", "42", "Are you a Hoopy Frood?", function(rslt) {
			if (rslt != null) {
				if (rslt == "42") {
					say("Good answer, but what is the question?", "Life, Don't talk to me about life");
				} else { 
					say("Yeah, '" + rslt + "' does not make you very smart.", "IQ: < 100");
				}
			}
		})
	})
	br.addLeaf("Open up a form dialog", function() { doDialogTest(); });
	br = tree1.addBranch("Some Other Actions", false);
	tree1.addLeaf("This line is just informative. You cannot click it.")
	tree1.render();

}
function doDialogTest() {
	openDialog("dlg1");
}
function doFormDataTest() {
	var frm = B.getForm("dlg1");
	var dta = frm.get();
	dta.frz = "I just got set!";
	dta.fnam = "Daniel";
	frm.set(dta);
	frm.focus("com");
}
function doRestTest(typ) {
	var r = new B.RestfulService("http://numbersapi.com/");
	var frm = B.getForm("dlg1");
	var chk = frm.get();
	var test = "500"
	var fix = "";
	if (typ == 1) {
		if (!B.is.INTEGER(chk.num, 0, 999)) fix += "\nNumber must be an integer netween 0 and 999";
		if (fix.length > 0) {
			sayFix(fix);
			return;
		}
		test = chk.num + "?notfound=floor";
	}
	if (typ == 2) {
		if (!B.is.INTEGER(chk.month)) fix += "\nMonth must be an integer";
		if (fix.length > 0) {
			sayFix(fix);
			return;
		}
		test = chk.month + "/" + chk.day;
	}
	
	r.getText(test, function(rslt) {
		$("#divRestResult").html(rslt);
	});
}

</script>
</head>
<body>
<table id='tblA'>
	<tr><th data='actor,160'>Actor</th>
		<th data='role,160'>Role</th>
		<th data='episodes,50,C'>Eps</th>
		<th data='fy,65,R'>First Yr</th>
		<th data='ly,65,R'>Last Yr</th>
		<th data='tmdb,100,C'>TMDB</th></tr>
</table>

<br>
<div id='tree1' style='width:320px; border:1px solid navy; padding:5px;'></div>

<form id='dlg1' class='BDialog' title='My First Dialog' style='height: 500px; width: 800px;'>
	<input name='sec' type='hidden' value='Secret'/>
	<table class='form'>
		<tr><td style='vertical-align: top;'>
			<table class='form'>
				<tr><th>First Name:</th><td><input class='VK' size='20' name='fnam'></td></tr>
				<tr><th>Last Name:</th><td><input class='VK' size='20' name='lnam'></td></tr>
				<tr><th>Current:</th><td><label><input type='checkbox' name='cur'> <i>Check to make current</i></label></td></tr>
				<tr><th>Address:</th><td><input class='VR' size='25' name='addr'></td></tr>
				<tr><th>City:</th><td><input size='25' name='city'></td></tr>
				<tr><th>State, Zip:</th><td><input class='VU' size='2' maxlength='2' name='st'>
					<input class='VR' size='6' maxlength='5' name='zip'></td></tr>
				<tr><th>Date:</th><td><input size='14' name='adate' class='VD'></td></tr>
				<tr><th>Number:</th><td><input name='num' size='5' maxlength='4' value='42'> <button onclick='doRestTest(1);'>get</button></td></tr>
			</table>
		</td>
		<td style='vertical-align: top;'>
			<table class='form' style='margin-left: 2em;'>
				<tr><th>Comment:</th><td><input size='25' name='com' readonly></td></tr>
				<tr><th>Option:</th><td><select class='VR' name='opt'>
					<option value=''>Select an option</option>
					<option value='1'>First</option><option value='2'>Second</option>
					<option value='3'>Third</option><option value='4'>Fourth</option>
					</select></td></tr>
				<tr><th>Multiple:</th><td><select multiple name='mult'>
					<option value='1'>First</option><option value='2'>Second</option>
					<option value='3'>Third</option><option value='4'>Fourth</option>
					<option value='5'>Fifth</option><option value='6'>Sixth</option>
					<option value='7'>Seventh</option><option value='8'>Eigth</option>
					<option value='9'>Ninth</option><option value='10'>Tenth</option>
					</select></td></tr>
				<tr><th>Radio:</th><td>
					<label><input type='radio' name='rad' value='A'>AAA</label>
					<label><input type='radio' name='rad' value='B'>BBB</label>
					<label><input type='radio' name='rad' value='C'>CCC</label>
					<label><input type='radio' name='rad' value='D'>DDD</label></td></tr>
				<tr><th>Disabled:</th><td><input size='20' maxlength='20' name='frz' disabled></td></tr>
				<tr><th>Test Date:</th><td><input name='month' size='4' maxlength='2' value='9'> / <input name='day' size='4' maxlength='2' value='1'> <button onclick='doRestTest(2);'>get</button></td></tr>
			</table>
		</td></tr>
	</table>
<br>
<button onclick='B.getForm("dlg1").freeze();'>Freeze</button>,
<button onclick='B.getForm("dlg1").thaw();'>Thaw</button>,
<button onclick='doFormDataTest()'>Data Test</button>,
<button onclick='B.getForm("dlg1").reset();'>Reset</button>
<br><div id='divRestResult'></div>
<button class='BDialogButton' onclick='popDialog();'>Close</button>
</form>
</body>
</html>